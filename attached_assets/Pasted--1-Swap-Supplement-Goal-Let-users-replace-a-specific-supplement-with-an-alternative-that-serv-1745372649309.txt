ğŸ”„ 1. Swap Supplement
ğŸ“Œ Goal:
Let users replace a specific supplement with an alternative that serves a similar function (e.g., same health goal, different ingredient or brand).
ğŸ§  User Need:
â€œI donâ€™t have this at home / I want a vegan or cheaper option / this one makes me uncomfortable.â€
ğŸ–¼ UI:
* Button: â€œğŸ”„ Swapâ€
* Location: Visible on expanded supplement card
* Behavior: On click â†’ triggers new GPT-4 API call scoped to that specific supplement
ğŸ¤– Prompt Format (to GPT-4 API):
Suggest an alternative to {supplement name} that supports {health goal} and fits {user preferences} (e.g., vegan, budget-friendly). Return supplement name, dose, timing, and instruction.
âœ… Acceptance Criteria:
* New supplement renders in place of the original
* Toast: â€œSwapped successfully!â€
* Swap result stored in local state (and localStorage if saved)

âŒ 2. Remove Supplement
ğŸ“Œ Goal:
Allow users to temporarily remove a supplement from their routine if they don't want to take it (due to sensitivity, schedule, preference).
ğŸ§  User Need:
â€œThis one doesnâ€™t work for meâ€ or â€œI want fewer items today.â€
ğŸ–¼ UI:
* Button: â€œâŒ Removeâ€
* Location: Visible on expanded card or on hover (collapsed state)
* Behavior: On click â†’ removes the supplement from display (not from server)
âœ… Acceptance Criteria:
* Card disappears from UI with animation
* Toast: â€œRemoved from routine. You can re-add later by regenerating.â€
* Not permanently deleted from server-side; just hidden in UI/local copy

ğŸ¤– 3. Ask AI (Contextual Q&A)
ğŸ“Œ Goal:
Give users a trusted, AI-driven way to ask personalized questions about a supplement (e.g. purpose, interactions, timing).
ğŸ§  User Need:
â€œI want to understand why Iâ€™m taking thisâ€ or â€œIs this safe with my current meds?â€ without leaving the app.
ğŸ–¼ UI:
* Button: â€œğŸ¤– Ask AIâ€
* Location: Always available in expanded card
* Behavior: Opens a modal chatbox with:
    * Input: User writes a question
    * Auto-filled context: Supplement details + routine data
    * Answer shown in assistant tone
ğŸ¤– Prompt Template:
text
CopyEdit
You're a helpful nutrition assistant. Based on the user's routine:
- Supplement: Magnesium Glycinate, 200mg, 10:00 PM
- Goal: Sleep support
- Taken with dinner

Answer the userâ€™s question clearly and briefly:
Q: â€œCan I take this with melatonin?â€
âœ… Acceptance Criteria:
* Modal opens with assistant response
* Allows user to ask follow-up questions
* Modal can be closed without losing state

ğŸ”„ Shared UX Notes
* All changes (Swap / Remove / Ask AI) update local copy of the routine (routineState)
* If saved, updated routine overwrites localStorage
